{"version":3,"file":"static/js/MovieDetailsView.7a2ab9d3.chunk.js","mappings":"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","sources":["webpack://foo/./src/Components/Title/title.module.css?496c","Components/Title/Title.js","api/helpers.js","api/api.js","webpack://foo/./src/Components/MovieDetails/movieDetails.module.css?8c71","Components/MovieDetails/MovieDetails.js","routes/moreInfoRoutes.js","Components/MoreInfo/MoreInfo.js","webpack://foo/./src/Components/GoBackButton/goBackButtton.module.css?17a8","Components/GoBackButton/GoBackButton.js","views/movieDetails/MovieDetailsView.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"title_title__i5H8-\"};","import { PropTypes } from 'prop-types';\nimport React from 'react';\nimport styles from './title.module.css';\n\nconst Title = ({ title }) => {\n  return <h2 className={styles.title}>{title}</h2>;\n};\n\nTitle.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n\nexport default Title;","export const getListData = res => res.data.results.map(({ title, id }) => ({ title, id }));\n","import axios from 'axios';\nimport { getListData } from './helpers';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'aa10d6d4989884e5722b4bd46231faec';\n\nconst _axios = axios.create({ baseURL: BASE_URL });\n\nexport const getTrending = () =>\n  _axios.get(`/trending/movie/week?api_key=${API_KEY}&limit=20`).then(getListData);\n\nexport const getMoviesByQuery = query =>\n  _axios.get(`/search/movie?api_key=${API_KEY}&limit=20&query=${query}`).then(getListData);\n\nexport const getMovieDetails = id =>\n  _axios\n    .get(`/movie/${id}?api_key=${API_KEY}`)\n    .then(res => res.data)\n    .then(({ title, poster_path, vote_average, overview, genres }) => ({\n      title,\n      poster_path,\n      vote_average,\n      overview,\n      genres,\n    }));\n\nexport const getCastInfo = id =>\n  _axios.get(`/movie/${id}/credits?api_key=${API_KEY}`).then(res =>\n    res.data.cast.map(({ id, profile_path, original_name, character }) => ({\n      id,\n      profile_path,\n      original_name,\n      character,\n    })),\n  );\n\nexport const getReviewsInfo = id =>\n  _axios\n    .get(`movie/${id}/reviews?api_key=${API_KEY}`)\n    .then(res => res.data.results.map(({ id, author, content }) => ({ id, author, content })));\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"movieDetails_section__k7aWg\",\"image\":\"movieDetails_image__1ZLT0\",\"desc\":\"movieDetails_desc__X-Ckh\",\"genresList\":\"movieDetails_genresList__0q4Ug\",\"genresItem\":\"movieDetails_genresItem__6Bp8W\"};","import React from 'react';\nimport Title from '../Title';\nimport { PropTypes } from 'prop-types';\nimport styles from './movieDetails.module.css';\n\nconst MovieDetails = ({ movie }) => {\n  const { title, poster_path, vote_average, overview, genres } = movie;\n\n  return (\n    <section className={styles.section}>\n      <img\n        className={styles.image}\n        src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n        alt=\"poster\"\n      />\n      <div className={styles.desc}>\n        <Title title={title} />\n        <p>User score: {vote_average}</p>\n        <h3>Overview</h3>\n        <p>{overview}</p>\n        <h3>Genres</h3>\n        <ul className={styles.genresList}>\n          {genres.map(({ id, name }) => (\n            <li key={id} className={styles.genresItem}>\n              {name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </section>\n  );\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    poster_path: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n      }),\n    ),\n  }),\n};\n\nexport default MovieDetails;","import { lazy } from 'react';\n\nconst CastView = lazy(() =>\n  import('../views/movieDetails/CastView' /* webpackChunkName: \"CastView\" */),\n);\nconst ReviewView = lazy(() =>\n  import('../views/movieDetails/ReviewView' /* webpackChunkName: \"ReviewView\" */),\n);\n\nconst moreInfoRoutes = [\n  { path: `cast`, name: 'Cast', component: CastView },\n  { path: `reviews`, name: 'Reviews', component: ReviewView },\n];\n\nexport default moreInfoRoutes;\n","import React from 'react';\nimport Navigation from '../Navigation';\nimport moreInfoRoutes from '../../routes/moreInfoRoutes';\nimport { Route, Routes, useParams } from 'react-router-dom';\n\nconst MoreInfo = () => {\n  const { movieId } = useParams();\n\n  return (\n    <>\n      <Navigation\n        routes={moreInfoRoutes.map(({ path, name }) => ({\n          path: `/movies/${movieId}/${path}`,\n          name,\n        }))}\n      />\n\n      <Routes>\n        {moreInfoRoutes.map(({ path, component: Element }) => (\n          <Route key={path} path={path} element={<Element />} />\n        ))}\n      </Routes>\n    </>\n  );\n};\n\nexport default MoreInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"goBackButtton_button__Ec7UA\"};","import React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { QueryContext } from '../App';\nimport styles from './goBackButtton.module.css';\n\nconst GoBackButton = () => {\n  const navigate = useNavigate();\n  const { query } = useContext(QueryContext);\n\n  const goBack = () => (query ? navigate('/movies') : navigate('/'));\n\n  return (\n    <button className={styles.button} type=\"button\" onClick={goBack}>\n      Go back\n    </button>\n  );\n};\n\nexport default GoBackButton;\n","import { Notify } from 'notiflix';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getMovieDetails } from '../../api/api';\nimport MovieDetails from '../../Components/MovieDetails';\nimport MoreInfo from '../../Components/MoreInfo';\nimport GoBackButton from '../../Components/GoBackButton/GoBackButton';\n\nconst MovieDetailsView = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    getMovieDetails(movieId)\n      .then(data => !cancelled && setMovie(data))\n      .catch(() => Notify.failure('Something went wrong!'));\n\n    return () => {\n      cancelled = true;\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      <GoBackButton />\n      {movie && <MovieDetails movie={movie} />}\n      <MoreInfo movieId={movieId} />\n    </>\n  );\n};\n\nexport default MovieDetailsView;\n"],"names":["title","className","styles","getListData","res","data","results","map","id","API_KEY","_axios","axios","baseURL","getTrending","get","then","getMoviesByQuery","query","getMovieDetails","poster_path","vote_average","overview","genres","getCastInfo","cast","profile_path","original_name","character","getReviewsInfo","author","content","movie","src","alt","Title","name","path","component","lazy","movieId","useParams","Navigation","routes","moreInfoRoutes","Element","element","navigate","useNavigate","useContext","QueryContext","type","onClick","useState","setMovie","useEffect","cancelled","catch","Notify"],"sourceRoot":""}